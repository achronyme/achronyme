print("--- Stdlib Robustness Test ---")

// 1. List Mutation
mut list = []
push(list, "alpha")
push(list, "beta")
assert(len(list) == 2)
print("List push OK")

let last = pop(list)
assert(last == "beta")
assert(len(list) == 1)
print("List pop OK")

// 2. Map Introspection
let map = { x: 10, y: 20 }
assert(len(map) == 2)
let k = keys(map)
assert(len(k) == 2)
// Check content (order agnostic)
let k0 = k[0]
if k0 == "x" {
    assert(true)
} else {
    assert(k0 == "y")
}
print("Map keys OK")

// 3. Error Handling (Uncomment to test manually, should crash gracefully)
// push({}, 1) // TypeMismatch
// len(123)    // TypeMismatch
// pop([])     // Returns nil, safe.

print("--- ALL PASS ---")
