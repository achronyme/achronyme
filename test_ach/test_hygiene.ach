// Test Register Hygiene

// 1. Stress Test: Long expression (should use only ~2 registers if hygiene works)
// If hygiene failed, this would use 20+ registers effectively or crash if limits were low.
let x = 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10
print(x) // Expect 55

// 2. Stress Test: Nested Blocks
// Inside blocks, we allocate locals. After block, registers should be freed.
{
    let a = 10
    {
        let b = 20
        print(a + b) // 30
    }
    // b should be gone, register reused?
    let c = 30
    print(a + c) // 40
}
// a, c should be gone.

print(100)
