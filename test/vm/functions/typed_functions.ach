// Functions with type annotations (VM mode)
// Annotations are parsed but VM execution is untyped â€” this verifies
// that typed function syntax is accepted without errors.

// Named function with typed params and return type
fn add(a: Field, b: Field) -> Field {
    return a + b
}
assert(add(3, 4) == 7)

// Mixed: some params typed, some not
fn scale(x: Field, factor) {
    return x * factor
}
assert(scale(5, 3) == 15)

// Return type annotation only
fn square(x) -> Field {
    x * x
}
assert(square(4) == 16)

// Anonymous function with type annotations
let double = fn(x: Field) -> Field { x * 2 }
assert(double(5) == 10)

// Higher-order: typed function as argument
fn apply(f, x: Field) -> Field {
    return f(x)
}
assert(apply(fn(x) { x * x }, 5) == 25)

// Bool return type
fn is_positive(x: Field) -> Bool {
    return x > 0
}
assert(is_positive(5) == true)
assert(is_positive(0) == false)

print("PASS: functions/typed_functions")
